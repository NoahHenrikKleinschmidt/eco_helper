<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

      <title>eco_helper.format</title>
    
          <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="_static/theme.css " type="text/css" />
      
      <!-- sphinx script_files -->
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="_static/theme-vendors.js"></script> -->
      <script src="_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="eco_helper.core" href="eco_helper.core.html" />
  <link rel="prev" title="eco_helper.normalise" href="eco_helper.normalise.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="index.html" class="home-link">
    
      <img class="logo" src="_static/eco_helper.svg" alt="logo"/>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#welcome-to-eco-helper-s-documentation">Contents:</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 ">
            
              <a href="eco_helper.convert.html" class="reference internal ">eco_helper.convert</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="eco_helper.normalise.html" class="reference internal ">eco_helper.normalise</a>
            

            
          </li>

        
          <li class="toctree-l1 current">
            
              <a href="#" class="reference internal current">eco_helper.format</a>
            

            
              <ul>
                
                  <li class="toctree-l2"><a href="#usage" class="reference internal">Usage</a></li>
                
                  <li class="toctree-l2"><a href="#full-cli" class="reference internal">Full CLI</a></li>
                
                  <li class="toctree-l2"><a href="#module-eco_helper.format.Formatter" class="reference internal">eco_helper.format.Formatter module</a></li>
                
                  <li class="toctree-l2"><a href="#module-eco_helper.format.funcs" class="reference internal">eco_helper.format.funcs module</a></li>
                
                  <li class="toctree-l2"><a href="#module-eco_helper.format.Pseudo" class="reference internal">eco_helper.format.Pseudo module</a></li>
                
                  <li class="toctree-l2"><a href="#module-eco_helper.format.formats" class="reference internal">eco_helper.format.formats</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="eco_helper.core.html" class="reference internal ">eco_helper.core</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
    <li>eco_helper.format</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="eco_helper.normalise.html"
       title="previous chapter">← eco_helper.normalise</a>
  </li>
  <li class="next">
    <a href="eco_helper.core.html"
       title="next chapter">eco_helper.core →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="module-eco_helper.format">
<span id="eco-helper-format"></span><span id="format"></span><h1>eco_helper.format<a class="headerlink" href="#module-eco_helper.format" title="Permalink to this heading">¶</a></h1>
<p>This module provides the functionality to re-format data columns and/or rows by regex-based substitutions.
It is the core of the <code class="docutils literal notranslate"><span class="pre">eco_helper</span> <span class="pre">format</span></code> command.</p>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">eco_helper</span> <span class="nb">format</span> <span class="p">[</span><span class="o">--</span><span class="n">index</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">names</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">columns</span> <span class="o">&lt;</span><span class="n">columns</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">output</span> <span class="o">&lt;</span><span class="n">output</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">pseudo</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">formats</span> <span class="o">&lt;</span><span class="n">formats</span><span class="o">&gt;</span><span class="p">]</span> <span class="o">&lt;</span><span class="nb">input</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;input&gt;</span></code> is the input file and <code class="docutils literal notranslate"><span class="pre">&lt;output&gt;</span></code> is the output file. By default the reformatted data will be written to the same file as the input file.
Using the <code class="docutils literal notranslate"><span class="pre">--index</span></code> option, the data index will be re-formatted.
Using the <code class="docutils literal notranslate"><span class="pre">--names</span></code> option, the data headers (column names) will be re-formatted.
<code class="docutils literal notranslate"><span class="pre">&lt;columns&gt;</span></code> can be any number of specific columns present within the input file.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--pseudo</span></code> option can be used to exclusively re-format the index and column headers of a data file.
In this case only these parts of the file will be read without loading the entire data and thus saving memory.
This is intended for large data files that would otherwise consume large resources or time.
Note, that when speciying <code class="docutils literal notranslate"><span class="pre">--pseudo</span></code> then other options such as <code class="docutils literal notranslate"><span class="pre">--index</span></code> or <code class="docutils literal notranslate"><span class="pre">--columns</span></code> are ignored.</p>
<p>A file specifying a python dictionary <cite>regex</cite> patterns can be passed to the –formats option.
Alternatively, <cite>eco_helper</cite> offers the “EcoTyper” format which will simply replace “-” by “.” and “ “ (space) by “_”.
To use this simply pass <code class="docutils literal notranslate"><span class="pre">--format</span> <span class="pre">EcoTyper</span></code>.</p>
</section>
<section id="full-cli">
<h2>Full CLI<a class="headerlink" href="#full-cli" title="Permalink to this heading">¶</a></h2>
<p>The full command line of <cite>eco_helper format</cite> with all options is as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>usage: eco_helper format <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-o OUTPUT<span class="o">]</span> <span class="o">[</span>-f FORMAT<span class="o">]</span> <span class="o">[</span>-s SUFFIX<span class="o">]</span> <span class="o">[</span>-i<span class="o">]</span>
                        <span class="o">[</span>-iname INDEXNAME<span class="o">]</span> <span class="o">[</span>-noid<span class="o">]</span> <span class="o">[</span>-n<span class="o">]</span>
                        <span class="o">[</span>-c COLUMNS <span class="o">[</span>COLUMNS ...<span class="o">]]</span> <span class="o">[</span>-p<span class="o">]</span> <span class="o">[</span>-sep SEPARATOR<span class="o">]</span> <span class="o">[</span>-e<span class="o">]</span>
                        <span class="o">[</span>-ee<span class="o">]</span> <span class="o">[</span>-a<span class="o">]</span>
                        input

Fix annotations <span class="k">in</span> columns, index, and column names of tabular data files such
as expression matrices and annotation files.

positional arguments:
input                 The input file.

options:
-h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
-o OUTPUT, --output OUTPUT
                        The output path. By default the file is saved to the
                        same path it was <span class="nb">read</span> from <span class="o">(</span>thereby overwriting the
                        previous one!<span class="o">)</span>.
-f FORMAT, --format FORMAT
                        A file specifying a dictionary of regex patterns <span class="k">for</span>
                        replacement.
-s SUFFIX, --suffix SUFFIX
                        A suffix to add to the output file. This will not
                        affect the file format and only serves to add
                        additional information to the filename.
-i, --index           Use this <span class="k">if</span> the index should be re-formatted.
-iname INDEXNAME, --indexname INDEXNAME
                        Use this to specify a name which the index should be
                        given a name <span class="k">in</span> the output file. Since the index is
                        turned to a regular data column, the <span class="o">(</span>replacement<span class="o">)</span>
                        index will not be written anymore.
-noid, --noindex      Use this <span class="k">if</span> the index should not be written to the
                        output file.
-n, --names           Use this <span class="k">if</span> the column names <span class="o">(</span>headers<span class="o">)</span> should be re-
                        formatted.
-c COLUMNS <span class="o">[</span>COLUMNS ...<span class="o">]</span>, --columns COLUMNS <span class="o">[</span>COLUMNS ...<span class="o">]</span>
                        Specify any number of columns within the annotation
                        file to reformat values <span class="k">in</span>.
-p, --pseudo          Use this to only pseudo-read the given file. This is
                        useful when the datafiles are very large to save
                        memory.
-sep SEPARATOR, --separator SEPARATOR
                        Use this to specify the separator to use when reading
                        the file. By default, the separator is guessed from
                        the file extension. Otherwise <span class="sb">`</span>tsv<span class="sb">`</span> <span class="o">(</span><span class="k">for</span> tab<span class="o">)</span>, <span class="sb">`</span>csv<span class="sb">`</span>
                        <span class="o">(</span><span class="k">for</span> comma<span class="o">)</span>, or <span class="sb">`</span>txt<span class="sb">`</span> <span class="o">(</span><span class="k">for</span> space<span class="o">)</span> can be specified.
-e, --expression      A preset <span class="k">for</span> expression matrices equivalent to <span class="s1">&#39;--</span>
<span class="s1">                        index --names --pseudo&#39;</span>
-ee, --ecoexpression  A preset <span class="k">for</span> EcoTyper expression matrices equivalent
                        to <span class="s1">&#39;--index --names --pseudo --format EcoTyper&#39;</span>
-a, --annotation      A preset <span class="k">for</span> EcoTyper annotation files corresponding
                        to <span class="s1">&#39;--index --indexname ID --columns CellType Sample</span>
<span class="s1">                        --format EcoTyper&#39;</span>
</pre></div>
</div>
</section>
<section id="module-eco_helper.format.Formatter">
<span id="eco-helper-format-formatter-module"></span><h2>eco_helper.format.Formatter module<a class="headerlink" href="#module-eco_helper.format.Formatter" title="Permalink to this heading">¶</a></h2>
<p>The main class that handles re-formatting input datafile index, columns, and headers.</p>
<dl class="py class">
<dt class="sig sig-object py" id="eco_helper.format.Formatter.Formatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">eco_helper.format.Formatter.</span></span><span class="sig-name descname"><span class="pre">Formatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Formatter.Formatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A cass to read tabular data files, and re-format
index, column names (headers) and/or specific columns using regex substitution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>formats</strong> (<em>dict</em>) – A dictionary of invalid characters which must be replaced with a valid character.
By default the pre-set <cite>EcoTyper</cite> dictionary is used.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eco_helper.format.Formatter.Formatter.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Formatter.Formatter.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dataframe (actual or pseudo).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eco_helper.format.Formatter.Formatter.index_to_column">
<span class="sig-name descname"><span class="pre">index_to_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Formatter.Formatter.index_to_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the index of the dataframe to a column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>colname</strong> (<em>str</em>) – The name of the column to store the index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eco_helper.format.Formatter.Formatter.read_table">
<span class="sig-name descname"><span class="pre">read_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Formatter.Formatter.read_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a tabular data file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – The name of the tabular data file.</p></li>
<li><p><strong>fmt</strong> (<em>str</em>) – The tabular format whose separator to use. If not provided, the separator will be guessed from the file extension. Otherwise, <cite>csv</cite> (comma only), <cite>tsv</cite>, and <cite>txt</cite> can be used.</p></li>
<li><p><strong>pseudo</strong> (<em>bool</em>) – If True, the dataframe will only be read by the index and column names into a PseudoDataFrame.
Since this will ** NOT ** store any actual data only the index and column names can be re-formated in this case!</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eco_helper.format.Formatter.Formatter.reformat">
<span class="sig-name descname"><span class="pre">reformat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Formatter.Formatter.reformat" title="Permalink to this definition">¶</a></dt>
<dd><p>Reformats parts of the read dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eco_helper.format.Formatter.Formatter.write_table">
<span class="sig-name descname"><span class="pre">write_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Formatter.Formatter.write_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the dataframe to a tabular data file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – The name of the output file.</p></li>
<li><p><strong>suffix</strong> (<em>str</em>) – Any suffix to add to the filename. This will ** NOT ** affect the data format in any way.
For instance, a <code class="docutils literal notranslate"><span class="pre">filename</span> <span class="pre">=</span> <span class="pre">&quot;myfile.tsv&quot;</span></code> and a <code class="docutils literal notranslate"><span class="pre">suffix</span> <span class="pre">=</span> <span class="pre">&quot;.gz&quot;</span></code> will result in a file named
<code class="docutils literal notranslate"><span class="pre">myfile.tsv.gz</span></code>, but it will still be a regular <cite>tsv</cite> file, and not a compressed one!
It is important to either include a tabular format such as <cite>.tsv</cite> in the <cite>filename</cite> or specify
a <cite>sep</cite> argument through the <cite>kwargs</cite> in order to be able to save the file properly.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-eco_helper.format.funcs">
<span id="eco-helper-format-funcs-module"></span><h2>eco_helper.format.funcs module<a class="headerlink" href="#module-eco_helper.format.funcs" title="Permalink to this heading">¶</a></h2>
<p>These are core functions to reformat datafiles.</p>
<dl class="py function">
<dt class="sig sig-object py" id="eco_helper.format.funcs.read_formats_file">
<span class="sig-prename descclassname"><span class="pre">eco_helper.format.funcs.</span></span><span class="sig-name descname"><span class="pre">read_formats_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#eco_helper.format.funcs.read_formats_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a file containing a dictionary of invalid characters to valid characters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The name of the file containing the dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of invalid characters to valid characters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-eco_helper.format.Pseudo">
<span id="eco-helper-format-pseudo-module"></span><h2>eco_helper.format.Pseudo module<a class="headerlink" href="#module-eco_helper.format.Pseudo" title="Permalink to this heading">¶</a></h2>
<p>These are classes to pseudo-read large data files only by their first column (index) and their first line (column headers).
These classes are intended to work with the core <cite>Formatter</cite> class and imitate the file reading and workflow of a real pandas dataframe, without actually reading or storing data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="eco_helper.format.Pseudo.Pseudo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">eco_helper.format.Pseudo.</span></span><span class="sig-name descname"><span class="pre">Pseudo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Pseudo.Pseudo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></p>
<p>A class to imitate the dataframe columns and indices.
It is just a pd.Series but giving them extra names will make the
code easier to understand…</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eco_helper.format.Pseudo.PseudoColumns">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">eco_helper.format.Pseudo.</span></span><span class="sig-name descname"><span class="pre">PseudoColumns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Pseudo.PseudoColumns" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#eco_helper.format.Pseudo.Pseudo" title="eco_helper.format.Pseudo.Pseudo"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pseudo</span></code></a></p>
<p>A pseudo-columns class to imitate the dataframe columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>iterable</em>) – The names of the columns.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the underlying pandas Series (not used).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eco_helper.format.Pseudo.PseudoDataFrame">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">eco_helper.format.Pseudo.</span></span><span class="sig-name descname"><span class="pre">PseudoDataFrame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\t'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Pseudo.PseudoDataFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to imitate the relevant methods and attributes for re-formatting of a pandas DataFrame
withou actually storing any of it’s data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>str</em>) – The data source file to read.</p></li>
<li><p><strong>sep</strong> (<em>str</em>) – The separator. By default tab.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eco_helper.format.Pseudo.PseudoDataFrame.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_has_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\t'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#eco_helper.format.Pseudo.PseudoDataFrame.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a data source file and get the column (first line)
names and the index column.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The column names <em>must</em> be in the first line, no
comments may be present in the file!</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – The path to the data source file.</p></li>
<li><p><strong>index_col</strong> (<em>int</em>) – The index column. By default the first column.</p></li>
<li><p><strong>index_has_header</strong> (<em>bool</em>) – Set to True if the index column has a header.</p></li>
<li><p><strong>sep</strong> (<em>str</em>) – The separator. By default tab.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eco_helper.format.Pseudo.PseudoDataFrame.replace_delims">
<span class="sig-name descname"><span class="pre">replace_delims</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Pseudo.PseudoDataFrame.replace_delims" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes any whitespace characters used for delimintation
from the index and columns.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eco_helper.format.Pseudo.PseudoDataFrame.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\t'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Pseudo.PseudoDataFrame.to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the edited column names and indices to a csv file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – The path to the output file.</p></li>
<li><p><strong>sep</strong> (<em>str</em>) – The separator. By default tab.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eco_helper.format.Pseudo.PseudoIndex">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">eco_helper.format.Pseudo.</span></span><span class="sig-name descname"><span class="pre">PseudoIndex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eco_helper.format.Pseudo.PseudoIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#eco_helper.format.Pseudo.Pseudo" title="eco_helper.format.Pseudo.Pseudo"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pseudo</span></code></a></p>
<p>A pseudo-index class to imitate the dataframe index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>iterable</em>) – The values of the index.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the index.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-eco_helper.format.formats">
<span id="eco-helper-format-formats"></span><h2>eco_helper.format.formats<a class="headerlink" href="#module-eco_helper.format.formats" title="Permalink to this heading">¶</a></h2>
<p>Pre-defined substitution formats.</p>
<dl class="py data">
<dt class="sig sig-object py" id="eco_helper.format.formats.EcoTyper">
<span class="sig-prename descclassname"><span class="pre">eco_helper.format.formats.</span></span><span class="sig-name descname"><span class="pre">EcoTyper</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'</span> <span class="pre">':</span> <span class="pre">'_',</span> <span class="pre">'-':</span> <span class="pre">'.'}</span></em><a class="headerlink" href="#eco_helper.format.formats.EcoTyper" title="Permalink to this definition">¶</a></dt>
<dd><p>The default substitutions to make data headers and index conform to EcoTyper requirements.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="eco_helper.format.formats.available_formats">
<span class="sig-prename descclassname"><span class="pre">eco_helper.format.formats.</span></span><span class="sig-name descname"><span class="pre">available_formats</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'EcoTyper':</span> <span class="pre">{'</span> <span class="pre">':</span> <span class="pre">'_',</span> <span class="pre">'-':</span> <span class="pre">'.'}}</span></em><a class="headerlink" href="#eco_helper.format.formats.available_formats" title="Permalink to this definition">¶</a></dt>
<dd><p>The available formats to use when reformatting data.</p>
</dd></dl>

</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="eco_helper.normalise.html"
       title="previous chapter">← eco_helper.normalise</a>
  </li>
  <li class="next">
    <a href="eco_helper.core.html"
       title="next chapter">eco_helper.core →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2022, Noah Kleinschmidt.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.1.1 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.8.0.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>